# 配置文件

## app.config.ts

这是小程序的配置文件. 本项目已经进行了一部分的耦合, 下面是一些需要注意的地方.

### 主页面

所有的主页面请配置在 `@/constants/routes` 文件中的 `mainPages` 字段里面.

```ts
const routes = {
  mainPages: {
    index: "/pages/index/index",
    course: "/pages/course/index",
    forum: "/pages/forum/index",
    my: "/pages/my/index",
  },
};
```

只需要在这里配置一次, 配置文件便会自动识别, 自动解析.

> 但是, 请保证字符串格式没有任何问题.

### 子页面

首先, 需要在 `routes` 文件中, 配置 `subPages` 字段. 参考格式如下:

```ts
subPages: {
    "<哪个页面的子页面>": {
    "子页面名称" : "子页面路径"
    // webs: "/pages/subPages/tools/webs/index",
    },
}
```

如果父页面已经存在, 则不需要进行额外配置, 程序会自动读取解析.

---

要创建一个新的子包的时候, 修改 `app.config.ts` 中的 `subPackagesConfig` 字段.

该列表储存内容格式如下:

```ts
const subPackagesConfig: ISubPackageConfig[] = [
  {
    // root 代表了子页面的根目录
    root: "pages/subPages/tools",
    // pages 直接配置使用上面子页面配置好的<哪个页面的子页面>字段即可, 不需要分别书写.
    pages: routes.subPages.index,
  },
];
```

随后, 子页面便会自动解析, 不需要额外配置了.

## config.ts

这个文件主要是进行环境相关的配置. 该文件仅建议修改 `ENV_CONFIGS` 字段.

```ts
/**
 * 环境配置对象
 * @description 生产, 开发环境的对应配置对象
 */
const ENV_CONFIGS: EnvConfig = {
  development: {
    api_base: "http://xxx.xxx.xxx.xxx:xxxx",
    theme_color: "#0081ff",
    start_date: "xxx-02-24",
    term: "xxx-2025-2",
    week: 0,
    version: "2.1.7-test",
    appId: "",
  },
  production: {
    api_base: "https://xxx.xxx",
    theme_color: "#0081ff",
    start_date: "xxx-02-24",
    term: "xxx-2025-2",
    week: 0,
    version: "2.1.7",
    appId: "",
  },
};
```

根据需要直接修改如上字段即可, 别的内容不需要修改, 否则可能导致未知的错误.
